# ğŸ… ç•ªèŒ„å°è¯´ä¸‹è½½å™¨ v1.7.0

<div align="center">

[![Release](https://img.shields.io/github/v/release/POf-L/Fanqie-novel-Downloader?style=for-the-badge&logo=github)](https://github.com/POf-L/Fanqie-novel-Downloader/releases)
![Python 3.8+](https://img.shields.io/badge/Python-3.8+-3776ab?style=for-the-badge&logo=python&logoColor=white)
![License MIT](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)
![Platform Windows|macOS|Linux](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey?style=for-the-badge)
![Status Active](https://img.shields.io/badge/Status-Active-brightgreen?style=for-the-badge)

</div>

> **ç•ªèŒ„å°è¯´ä¸‹è½½å™¨** æ˜¯ä¸€æ¬¾ç®€å•æ˜“ç”¨çš„å°è¯´ä¸‹è½½å·¥å…·ï¼Œæä¾›ç°ä»£åŒ–GUIç•Œé¢å’Œå‘½ä»¤è¡Œæ¨¡å¼ï¼Œæ”¯æŒæ‰¹é‡ä¸‹è½½ã€Torä»£ç†ã€Cloudflareåä»£ã€å¤šçº¿ç¨‹åŠå¤šç§è¾“å‡ºæ ¼å¼ï¼Œè®©ä½ è½»æ¾ä¸‹è½½å¹¶é˜…è¯»ç½‘ç»œå°è¯´ã€‚

---

## ğŸ“‘ ç›®å½•

- [ğŸŒŸ åŠŸèƒ½ç‰¹ç‚¹](#åŠŸèƒ½ç‰¹ç‚¹)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ğŸ“– ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [âš™ï¸ é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [ğŸ“„ License](#license)

---

## ğŸŒŸ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- ğŸ–¥ï¸ **ç°ä»£åŒ–GUIç•Œé¢** - åŸºäºCustomTkinterçš„ç¾è§‚ç•Œé¢ï¼Œæ”¯æŒå“åº”å¼å¸ƒå±€
- ğŸŒ **æ™ºèƒ½APIç®¡ç†** - è‡ªåŠ¨ä»æœåŠ¡å™¨è·å–æœ€æ–°APIåˆ—è¡¨ï¼Œç¡®ä¿ä¸‹è½½ç¨³å®šæ€§
- âš¡ **æ‰¹é‡ä¸‹è½½æ¨¡å¼** - å¤§é‡ç« èŠ‚æ—¶è‡ªåŠ¨å¯ç”¨æ‰¹é‡ä¸‹è½½ï¼Œæ˜¾è‘—æå‡æ•ˆç‡
- ğŸ“– **å¤šç§è¾“å‡ºæ ¼å¼** - æ”¯æŒ TXT å’Œ EPUB æ ¼å¼è¾“å‡º
- ğŸ“Š **å®æ—¶è¿›åº¦æ˜¾ç¤º** - è¯¦ç»†çš„ä¸‹è½½çŠ¶æ€ã€è¿›åº¦æ¡å’Œç« èŠ‚è®¡æ•°

### ğŸš€ é«˜çº§åŠŸèƒ½
- ğŸ”’ **Torç½‘ç»œæ”¯æŒ** - å†…ç½®Torä»£ç†ï¼Œä¿æŠ¤éšç§å’Œç»•è¿‡ç½‘ç»œé™åˆ¶
- ğŸŒ **Cloudflare Workersåä»£** - æ”¯æŒè‡ªå®šä¹‰åå‘ä»£ç†ï¼Œè§£å†³APIè®¿é—®é—®é¢˜
- âš¡ **å¤šçº¿ç¨‹ä¸‹è½½** - æ™ºèƒ½å¹¶å‘æ§åˆ¶ï¼Œæœ€å¤§åŒ–ä¸‹è½½é€Ÿåº¦
- ğŸ”„ **æ–­ç‚¹ç»­ä¼ ** - æ”¯æŒæš‚åœå’Œæ¢å¤ä¸‹è½½ï¼Œé¿å…é‡å¤ä¸‹è½½
- ğŸ¨ **å“åº”å¼ç•Œé¢** - è‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸ï¼Œå®Œç¾é€‚é…å„ç§è®¾å¤‡

### ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§
- ğŸ”„ **æ™ºèƒ½é‡è¯•æœºåˆ¶** - å¤šAPIè½®è¯¢ï¼Œè‡ªåŠ¨é”™è¯¯å¤„ç†å’Œé‡è¯•
- ğŸ“ **è¯¦ç»†æ—¥å¿—ç³»ç»Ÿ** - å®Œæ•´çš„æ“ä½œè®°å½•å’Œé”™è¯¯ä¿¡æ¯
- ğŸ”§ **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- ğŸ” **åŠ å¯†æ”¯æŒ** - å†…ç½®AESåŠ å¯†åŠŸèƒ½ï¼Œä¿æŠ¤æ•°æ®å®‰å…¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| **Pythonç‰ˆæœ¬** | 3.8+ |
| **æ“ä½œç³»ç»Ÿ** | Windows 10+, macOS 10.14+, Linux |
| **å†…å­˜** | è‡³å°‘ 512MB å¯ç”¨å†…å­˜ |
| **ç½‘ç»œ** | ç¨³å®šçš„äº’è”ç½‘è¿æ¥ |
| **å­˜å‚¨ç©ºé—´** | æ ¹æ®ä¸‹è½½å†…å®¹è€Œå®š |

### âš™ï¸ å®‰è£…æ­¥éª¤

#### 1ï¸âƒ£ è·å–æºç 
```bash
git clone https://github.com/POf-L/Fanqie-novel-Downloader.git
cd Fanqie-novel-Downloader
```

#### 2ï¸âƒ£ å®‰è£…ä¾èµ–
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…
pip install -r requirements.txt

# æˆ–è€…ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

> ğŸ’¡ **æç¤º**: tkinteræ˜¯Pythonæ ‡å‡†åº“ï¼Œæ— éœ€å•ç‹¬å®‰è£…ã€‚å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ç¡®ä¿Pythonå®‰è£…æ—¶åŒ…å«äº†tkinterç»„ä»¶ã€‚

#### 3ï¸âƒ£ å¯åŠ¨ç¨‹åº

**ğŸ–¥ï¸ GUIç‰ˆæœ¬ (æ¨è)**
```bash
python main.py
```

**âŒ¨ï¸ å‘½ä»¤è¡Œç‰ˆæœ¬**
```bash
python cli.py
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸ–¥ï¸ GUIç•Œé¢ä½¿ç”¨

1. **ğŸš€ å¯åŠ¨ç¨‹åº**
   ```bash
   python main.py
   ```

2. **ğŸ“ è¾“å…¥å°è¯´ä¿¡æ¯**
   - åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ç•ªèŒ„å°è¯´çš„IDæˆ–ä¹¦å
   - æ”¯æŒç›´æ¥ç²˜è´´å°è¯´é“¾æ¥

3. **ğŸ“ é€‰æ‹©ä¿å­˜è·¯å¾„**
   - ç‚¹å‡»"æµè§ˆ"æŒ‰é’®é€‰æ‹©ä¿å­˜ä½ç½®
   - ç¨‹åºä¼šè®°ä½ä¸Šæ¬¡é€‰æ‹©çš„è·¯å¾„

4. **ğŸ“„ é€‰æ‹©è¾“å‡ºæ ¼å¼**
   - **TXTæ ¼å¼**: çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå…¼å®¹æ€§å¥½
   - **EPUBæ ¼å¼**: ç”µå­ä¹¦æ ¼å¼ï¼Œæ”¯æŒé˜…è¯»å™¨

5. **âš¡ å¼€å§‹ä¸‹è½½**
   - ç‚¹å‡»"å¼€å§‹ä¸‹è½½"æŒ‰é’®
   - ç¨‹åºè‡ªåŠ¨è·å–APIåˆ—è¡¨å¹¶å¼€å§‹ä¸‹è½½
   - å®æ—¶æ˜¾ç¤ºä¸‹è½½è¿›åº¦å’ŒçŠ¶æ€

### âŒ¨ï¸ å‘½ä»¤è¡Œä½¿ç”¨

```bash
python cli.py
```

æŒ‰ç…§æç¤ºæ“ä½œï¼š
- é€‰æ‹©æ˜¯å¦å¯ç”¨Torä»£ç†
- è¾“å…¥å°è¯´ID
- æŒ‡å®šä¿å­˜è·¯å¾„
- è‡ªåŠ¨å¼€å§‹ä¸‹è½½

---

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

ç¨‹åºä¼šè‡ªåŠ¨åœ¨æ ‡å‡†ç”¨æˆ·æ•°æ®ç›®å½•ä¸­åˆ›å»º `user_config.json` é…ç½®æ–‡ä»¶ï¼š

| æ“ä½œç³»ç»Ÿ | é…ç½®æ–‡ä»¶è·¯å¾„ |
|----------|-------------|
| **Windows** | `%LOCALAPPDATA%\User\TomatoNovelDownloader\user_config.json` |
| **macOS** | `~/Library/Application Support/TomatoNovelDownloader/user_config.json` |
| **Linux** | `~/.config/TomatoNovelDownloader/user_config.json` |

### ğŸ”§ é…ç½®å‚æ•°è¯¦è§£

#### ç½‘ç»œè¯·æ±‚é…ç½®
```json
{
    "request": {
        "max_workers": 50,          // æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°
        "max_retries": 3,           // æœ€å¤§é‡è¯•æ¬¡æ•°
        "timeout": 10,              // è¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)
        "request_rate_limit": 0.05  // è¯·æ±‚é—´éš”(ç§’)
    }
}
```

#### æ–‡ä»¶è¾“å‡ºé…ç½®
```json
{
    "file": {
        "default_save_path": "downloads",  // é»˜è®¤ä¿å­˜è·¯å¾„
        "last_save_path": ""              // ä¸Šæ¬¡ä½¿ç”¨çš„è·¯å¾„
    }
}
```

#### Torç½‘ç»œé…ç½®
```json
{
    "tor": {
        "enabled": false,        // æ˜¯å¦å¯ç”¨Tor
        "proxy_port": 9050,      // Torä»£ç†ç«¯å£
        "change_ip_after": 980,  // å¤šå°‘æ¬¡è¯·æ±‚åæ›´æ¢IP
        "request_timeout": 35    // Torè¯·æ±‚è¶…æ—¶æ—¶é—´
    }
}
```

#### Cloudflare Workersåä»£é…ç½®
```json
{
    "cloudflare_proxy": {
        "enabled": false,              // æ˜¯å¦å¯ç”¨åä»£
        "proxy_domain": "",            // åä»£åŸŸå
        "fallback_to_original": true,  // å¤±è´¥æ—¶å›é€€åˆ°åŸå§‹API
        "test_endpoint": "/test"       // æµ‹è¯•ç«¯ç‚¹
    }
}
```

#### ç•Œé¢å¤–è§‚é…ç½®
```json
{
    "appearance": {
        "appearance_mode": "dark",  // ç•Œé¢ä¸»é¢˜: dark/light
        "color_theme": "blue"       // é¢œè‰²ä¸»é¢˜
    },
    "window": {
        "default_geometry": "1300x850",  // é»˜è®¤çª—å£å¤§å°
        "position": null                 // çª—å£ä½ç½®
    }
}
```

---

## ğŸ”§ é«˜çº§åŠŸèƒ½

### ğŸŒ Cloudflare Workersåä»£éƒ¨ç½²

é¡¹ç›®åŒ…å«å®Œæ•´çš„Cloudflare Workersåä»£è„šæœ¬ï¼Œç”¨äºè§£å†³APIè®¿é—®é—®é¢˜ï¼š

1. **éƒ¨ç½²æ­¥éª¤**ï¼š
   - ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
   - è¿›å…¥ Workers & Pages
   - åˆ›å»ºæ–°çš„ Worker
   - å¤åˆ¶ `scripts/cloudflare-worker-proxy.js` å†…å®¹åˆ°ç¼–è¾‘å™¨
   - éƒ¨ç½²å¹¶è·å– Worker åŸŸå

2. **é…ç½®ä½¿ç”¨**ï¼š
   - åœ¨ä¸‹è½½å™¨ä¸­å¯ç”¨åä»£åŠŸèƒ½
   - è¾“å…¥ Worker åŸŸå
   - ç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨åä»£è¿›è¡Œè¯·æ±‚

### ğŸ”’ Torç½‘ç»œæ”¯æŒ

å†…ç½®Torç½‘ç»œæ”¯æŒï¼Œæä¾›é¢å¤–çš„éšç§ä¿æŠ¤ï¼š

1. **å®‰è£…Tor**ï¼š
   - Windows: ä¸‹è½½ [Tor Browser](https://www.torproject.org/)
   - Linux: `sudo apt install tor`
   - macOS: `brew install tor`

2. **å¯ç”¨Tor**ï¼š
   - åœ¨GUIä¸­å‹¾é€‰"å¯ç”¨Torä»£ç†"
   - æˆ–åœ¨å‘½ä»¤è¡Œç‰ˆæœ¬ä¸­é€‰æ‹©å¯ç”¨
   - ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹Torè¿æ¥çŠ¶æ€

### ğŸ“¦ æ‰“åŒ…å‘å¸ƒ

é¡¹ç›®åŒ…å«å®Œæ•´çš„PyInstalleré…ç½®æ–‡ä»¶ï¼š

```bash
# æ‰“åŒ…GUIç‰ˆæœ¬ï¼ˆæ— æ§åˆ¶å°ï¼‰
pyinstaller build_gui.spec

# æ‰“åŒ…æ§åˆ¶å°ç‰ˆæœ¬ï¼ˆå¸¦è°ƒè¯•ä¿¡æ¯ï¼‰
pyinstaller build_console.spec
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### ğŸ› æŠ¥å‘Šé—®é¢˜
- ä½¿ç”¨ [Issues](https://github.com/POf-L/Fanqie-novel-Downloader/issues) æŠ¥å‘Šbug
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤ç°æ­¥éª¤
- åŒ…å«ç³»ç»Ÿç¯å¢ƒå’ŒPythonç‰ˆæœ¬ä¿¡æ¯

### ğŸ’¡ åŠŸèƒ½å»ºè®®
- åœ¨Issuesä¸­æå‡ºæ–°åŠŸèƒ½å»ºè®®
- è¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯
- æ¬¢è¿æä¾›è®¾è®¡æ€è·¯å’Œå®ç°æ–¹æ¡ˆ

### ğŸ”§ ä»£ç è´¡çŒ®
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/AmazingFeature`
5. åˆ›å»º Pull Request

### ğŸ“ æ–‡æ¡£æ”¹è¿›
- æ”¹è¿›READMEæ–‡æ¡£
- æ·»åŠ ä»£ç æ³¨é‡Š
- å®Œå–„ä½¿ç”¨è¯´æ˜

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT** è®¸å¯è¯ã€‚è¯¦è§ `LICENSE` æ–‡ä»¶ã€‚

---

## âš ï¸ å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ç”¨äºæŠ€æœ¯å­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚ä½¿ç”¨è€…åº”æ‰¿æ‹…ä½¿ç”¨æœ¬å·¥å…·çš„æ‰€æœ‰é£é™©å’Œè´£ä»»ï¼Œä½œè€…ä¸æ‰¿æ‹…ä»»ä½•æ³•å¾‹è´£ä»»ã€‚

---

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [Dlmily/Tomato-Novel-Downloader-Lite](https://github.com/Dlmily/Tomato-Novel-Downloader-Lite) æä¾›çš„å‚è€ƒä»£ç 
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„æ”¯æŒå’Œå»ºè®®
- æ„Ÿè°¢å¼€æºç¤¾åŒºæä¾›çš„ä¼˜ç§€åº“å’Œå·¥å…·

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼ â­**

[![Star History Chart](https://api.star-history.com/svg?repos=POf-L/Fanqie-novel-Downloader&type=Date)](https://star-history.com/#POf-L/Fanqie-novel-Downloader&Date)

</div>
